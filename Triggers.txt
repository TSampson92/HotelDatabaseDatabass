
DROP TRIGGER IF EXISTS `Incr_empl_count`;
CREATE TRIGGER `Incr_empl_count` 
AFTER INSERT ON `EMPLOYEE` 
FOR EACH ROW 
UPDATE DEPARTMENT 
SET DEPARTMENT.Num_employees = 1 + DEPARTMENT.Num_employees 
WHERE NEW.Dep_ID = DEPARTMENT.Dep_ID

CREATE TRIGGER Decr_empl_count
BEFORE DELETE ON EMPLOYEE
FOR EACH ROW
BEGIN
UPDATE DEPARTMENT
SET NUM_employees = NUM_employees - 1
WHERE EMPLOYEE.Dep_ID = DEPARTMENT.Dep_ID;
END;

DROP TRIGGER IF EXISTS `Decr_empl_num`;
CREATE TRIGGER `Decr_empl_num` 
BEFORE DELETE ON `EMPLOYEE` 
FOR EACH ROW 
UPDATE DEPARTMENT 
SET DEPARTMENT.Num_employees = DEPARTMENT.Num_employees - 1 
WHERE OLD.Dep_ID = DEPARTMENT.Dep_ID
